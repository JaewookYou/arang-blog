---
title: "ASIS CTF 2018 - Neighbour Writeup"
description: "효율적인 수학 계산으로 x^y 형태의 숫자 중 n에 가장 가까운 값 찾기"
date: 2018-05-01
tags: ["asis-ctf", "ppc", "math", "algorithm"]
ctf: "ASIS CTF 2018"
published: true
---

# [PPC] Neighbour - ASIS CTF 2018

## Preview

CTF 문제를 풀기 시작한 최근, 여러 분야의 문제들을 보고 있습니다.

이번에 도전해 본 분야는 **PPC(Professional Programming Challenges)**입니다.

문과출신의 저에게 약한 분야인 수학에 대한 내용이기에 지레 겁먹고 손대지 않았었지만 이번엔 왠지 할만하다는 느낌적인 느낌(?) 덕택에 도전하게 되었습니다.

포기하고 자려고 마음먹고 침대에 누운 순간 솔루션이 생각나서 그대로 밤을 샜던 좋은 경험(?)을 할 수 있었습니다 ㅋㅋ..

---

## Summary

이번 문제는 **엄청 큰 수 n보다 작으며 x^y를 만족하는 n에 가장 가까운 수 'r'**을 찾아내는 문제였습니다.

문제풀이의 핵심은 **시간 내에 효율적으로 계산이 되게끔 코드를 구성**할 수 있는가 입니다.

---

## 접근 방법

저는 3가지 방법을 써서 효율성을 높였습니다:

1. **이진 탐색(Binary Search):** x^y <= n을 만족하는 최대 x를 빠르게 찾기
2. **y 범위 제한:** y가 커질수록 x는 작아지므로 적절한 범위 설정
3. **조기 종료:** 현재까지 가장 가까운 값보다 더 가까운 값이 나올 수 없으면 중단

---

## 핵심 로직

```python
def find_nearest_power(n):
    best = 1  # 1 = 1^k for any k
    
    for y in range(2, log2(n) + 1):
        # Binary search for largest x where x^y <= n
        low, high = 2, int(n ** (1/y)) + 1
        
        while low <= high:
            mid = (low + high) // 2
            power = mid ** y
            
            if power <= n:
                if n - power < n - best:
                    best = power
                low = mid + 1
            else:
                high = mid - 1
    
    return best
```

---

## 결론

수학적 최적화와 알고리즘적 사고가 결합된 재미있는 문제였습니다.
